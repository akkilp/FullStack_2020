{"version":3,"sources":["utils.js","searchbox.js","form.js","Contacts.js","notification.js","services.js","App.js","index.js"],"names":["Header","text","PersonCard","name","number","children","Button","handleClick","onClick","Input","handleChange","value","onChange","SearchBox","search","setSearch","event","target","Form","persons","handleUpdate","handleCreate","useState","data","setData","onSubmit","preventDefault","personExists","find","person","toUpperCase","newObject","id","window","confirm","type","Contacts","handleDelete","numberList","map","i","key","Notification","message","className","isErr","baseUrl","axios","get","then","response","post","put","delete","App","setPersons","setMessage","useEffect","manageDB","personsToShow","length","filter","indexOf","returnedPerson","concat","setTimeout","undefined","catch","err","error","newObj","console","log","findPerson","ReactDOM","render","document","getElementById"],"mappings":"iOAEaA,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,OAAY,4BAAKA,IAE1BC,EAAa,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAAhB,OAA8B,2BAAIF,EAAJ,IAAWC,EAAX,IAAoBC,IAE/DC,EAAS,SAAC,GAAyB,IAAxBL,EAAuB,EAAvBA,KAAMM,EAAiB,EAAjBA,YAC1B,OACI,oCACI,4BAAQC,QAASD,GAAcN,KAK9BQ,EAAQ,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,aAAcP,EAAiB,EAAjBA,KAAMQ,EAAW,EAAXA,MACvC,OACE,6BACGR,EACD,2BACAS,SAAUF,EACVP,KAAMA,EACNQ,MAAOA,MClBFE,EAAY,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,UAM/B,OACE,oCACE,kBAAC,EAAD,CAAQd,KAAK,iBACb,kBAAC,EAAD,CAAOE,KAAK,OAAOO,aAPN,SAACM,GAClBD,EAAUC,EAAMC,OAAON,QAM4BA,MAAOG,M,cCRjDI,EAAO,SAAC,GAA2C,IAA1CC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAAkB,EACnCC,mBAAS,CAACnB,KAAM,GAAIC,OAAQ,KADO,mBACpDmB,EADoD,KAC9CC,EAD8C,KAGrDd,EAAe,SAACM,GAAW,IAAD,EACRA,EAAMC,OAArBN,EADuB,EACvBA,MAAOR,EADgB,EAChBA,KACdqB,EAAQ,2BAAID,GAAL,kBAAYpB,EAAOQ,MA0B1B,OACE,oCACE,kBAAC,EAAD,CAAQV,KAAK,gBACb,0BAAMwB,SA1BS,SAACT,GACpBA,EAAMU,iBACN,IAAMC,EAAeR,EAAQS,MAAK,SAAAC,GAAM,OAAIA,EAAO1B,KAAK2B,gBAAgBP,EAAKpB,KAAK2B,iBAC9EC,EAAY,CACd5B,KAAMoB,EAAKpB,KACXC,OAAQmB,EAAKnB,QAGZuB,IACDI,EAAS,2BAAOR,GAAP,IAAaS,GAAIL,EAAaK,MAIzCL,EAEEM,OAAOC,QAAQ,0EAA4Ed,EAAaW,GAExGV,EAAaU,GAEfP,EAAQ,CAACrB,KAAK,GAAGC,OAAO,OAQlB,kBAAC,EAAD,CAAOD,KAAK,OAAOO,aAAcA,EAAcC,MAAOY,EAAKpB,OAC3D,kBAAC,EAAD,CAAOA,KAAK,SAASO,aAAcA,EAAcC,MAAOY,EAAKnB,SAC7D,kBAAC,EAAD,CAAQ+B,KAAK,SAASlC,KAAK,WCtC1BmC,EAAW,SAAC,GAA6B,IAA5BjB,EAA2B,EAA3BA,QAASkB,EAAkB,EAAlBA,aAE3BC,EAAanB,EAAQoB,KAAI,SAACV,EAAQW,GACtC,OACE,kBAAC,EAAD,CAAYrC,KAAM0B,EAAO1B,KAAMC,OAAQyB,EAAOzB,OAAQqC,IAAKZ,EAAO1B,MAChE,kBAAC,EAAD,CAAQF,KAAK,SAASM,YAAa,kBAAM8B,EAAaR,EAAOG,WAKnE,OACE,oCACE,kBAAC,EAAD,CAAQ/B,KAAK,aACZqC,ICbMI,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEtBC,EAAY,MAKhB,OAJmB,IAAhBD,EAAQE,QACPD,EAAY,SAGQ,OAApBD,EAAQA,QACH,KAIP,yBAAKC,UAAWA,GACbD,EAAQA,U,wBCfXG,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAAS3B,SAkB5B,EAfA,SAAAQ,GAEb,OADgBgB,IAAMI,KAAKL,EAASf,GACrBkB,MAAK,SAAAC,GAAQ,OAAIA,EAAS3B,SAa5B,EAVA,SAACS,EAAID,GAElB,OADgBgB,IAAMK,IAAN,UAAaN,EAAb,YAAwBd,GAAMD,GAC/BkB,MAAK,SAAAC,GAAQ,OAAIA,EAAS3B,SAQ5B,EALM,SAACpB,GAElB,OADgB4C,IAAMM,OAAN,UAAgBP,EAAhB,YAA2B3C,IAC5B8C,MAAK,SAAAC,GAAQ,OAAIA,EAAS3B,SCyE9B+B,EAlFH,WAAO,IAAD,EAEehC,mBAAS,IAFxB,mBAETH,EAFS,KAEAoC,EAFA,OAGYjC,mBAAS,IAHrB,mBAGTR,EAHS,KAGDC,EAHC,OAIcO,mBAAS,CAACuB,OAAO,EAAOF,QAAS,OAJ/C,mBAITA,EAJS,KAIAa,EAJA,KAOhBC,qBAAU,WACRC,IAEGT,MAAK,SAAAC,GACJK,EAAWL,QAEf,IAEJ,IAuDMS,EAAgB7C,EAAO8C,OAAO,EAAIzC,EAAQ0C,QAAO,SAAAhC,GAAM,OAAKA,EAAO1B,KAAK2B,cAAcgC,QAAQhD,EAAOgB,kBAAkBX,EAE3H,OACE,6BACE,kBAAC,EAAD,CAAWL,OAAQA,EAAQC,UAAWA,IACtC,kBAAC,EAAD,CAAMI,QAASA,EAASE,aA5DT,SAACU,GACpB2B,EACU3B,GACPkB,MAAK,SAAAc,GACJR,EAAWpC,EAAQ6C,OAAOD,IAC1BP,EAAW,CAACX,OAAM,EAAOF,QAAQ,GAAD,OAAKZ,EAAU5B,KAAf,6BAChC8D,YAAW,WACTT,EAAW,CAACX,WAAOqB,EAAWvB,QAAS,SACxC,QACAwB,OAAM,SAAAC,GACPZ,EAAY,CAACX,OAAM,EAAMF,QAASyB,EAAIlB,SAAS3B,KAAK8C,QACpDJ,YAAW,WACTT,EAAW,CAACX,WAAOqB,EAAWvB,QAAS,SACxC,SA+CmDvB,aAxBrC,SAACkD,GACpBC,QAAQC,IAAIF,GACZ,IAAMG,EAAatD,EAAQS,MAAK,SAAAC,GAAM,OAAIA,EAAOG,KAAOsC,EAAOtC,MAE/D0B,EACUe,EAAWzC,GAAIsC,GACtBrB,MAAK,SAACc,GACLR,EAAWpC,EAAQoB,KAAI,SAAAV,GAAM,OAAEA,EAAOG,KAAKsC,EAAOtC,GAAKH,EAASkC,MAChEP,EAAW,CAACX,OAAM,EAAOF,QAAQ,GAAD,OAAK2B,EAAOnE,KAAZ,uBAEjCgE,OAAM,SAAAE,GACLb,EAAW,CAACX,OAAM,EAAKF,QAAQ,GAAD,OAAI2B,EAAOnE,KAAX,sBAC9BoD,EAAWpC,EAAQ0C,QAAO,SAAAhC,GAAM,OAAEA,EAAOG,KAAKsC,EAAOtC,OACrDiC,YAAW,WACTT,EAAW,CAACX,WAAOqB,EAAWvB,QAAS,SACxC,WAUD,kBAAC,EAAD,CAAUxB,QAASwC,EAAe7C,OAAQA,EAAQuB,aA5CnC,SAACL,GACpB,IAAMyC,EAAatD,EAAQS,MAAK,SAAAC,GAAM,OAAIA,EAAOG,KAAKA,KACtDC,OAAOC,QAAP,iBAAyBuC,EAAWtE,KAApC,OACEuD,EACce,EAAWzC,IACxBiB,MAAK,WACJM,EAAWpC,EAAQ0C,QAAO,SAAAhC,GAAM,OAAEA,EAAOG,KAAKA,MAC9CwB,EAAW,CAACX,OAAM,EAAOF,QAAQ,GAAD,OAAK8B,EAAWtE,KAAhB,iCAChC8D,YAAW,WACTT,EAAW,CAACX,WAAOqB,EAAWvB,QAAS,SACxC,QAEFwB,OAAM,SAAAE,GACLb,EAAW,CAACX,OAAO,EAAMF,QAAQ,+BACjCY,EAAWpC,EAAQ0C,QAAO,SAAAhC,GAAM,OAAEA,EAAOG,KAAKA,YA+B9C,kBAAC,EAAD,CAAcW,QAASA,EAASa,WAAYA,MCpFlDkB,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.75a0cde5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header = ({text}) => <h1>{text}</h1>\r\n\r\nexport const PersonCard = ({name, number, children}) => <p>{name} {number} {children}</p>\r\n\r\nexport const Button = ({text, handleClick}) => {\r\n    return(\r\n        <>\r\n            <button onClick={handleClick}>{text}</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const Input = ({handleChange, name, value}) => {\r\n    return(\r\n      <div>\r\n        {name}\r\n        <input\r\n        onChange={handleChange}\r\n        name={name}\r\n        value={value}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n","import {Header, Input} from \"./utils\"\r\nimport React from 'react'\r\n\r\nexport const SearchBox = ({search, setSearch}) => {\r\n\r\nconst handleChange = (event) => {\r\n    setSearch(event.target.value)\r\n}\r\n\r\n    return(\r\n      <>\r\n        <Header text='Find contact'/>\r\n        <Input name=\"name\" handleChange={handleChange} value={search}/>\r\n      </>\r\n    )\r\n  }\r\n\r\n","import React, { useState } from 'react'\r\nimport {Button, Header, Input} from \"./utils\"\r\n\r\n\r\nexport const Form = ({persons, handleUpdate, handleCreate}) => {\r\n    const [data, setData] = useState({name: '', number: ''})\r\n    \r\n    const handleChange = (event) => {\r\n      const {value, name} = event.target;\r\n      setData({...data, [name]: value})\r\n    }\r\n    \r\n    const handleSubmit = (event) => {\r\n      event.preventDefault()\r\n      const personExists = persons.find(person => person.name.toUpperCase()===data.name.toUpperCase())\r\n      let newObject = {\r\n        name: data.name,\r\n        number: data.number,\r\n      }\r\n\r\n      if(personExists){\r\n        newObject = {...data, id: personExists.id}\r\n\r\n      }\r\n  \r\n      personExists ?\r\n        (\r\n        window.confirm(\"Contact already exists. Replace the existing data with current input?\") && handleUpdate(newObject)\r\n        ):(\r\n        handleCreate(newObject)\r\n        )       \r\n      setData({name:'',number:''}) \r\n    }\r\n     \r\n    \r\n      return(\r\n        <>\r\n          <Header text=\"New contact\"/>\r\n          <form onSubmit={handleSubmit}>\r\n            <Input name=\"name\" handleChange={handleChange} value={data.name}/>\r\n            <Input name=\"number\" handleChange={handleChange} value={data.number}/>\r\n            <Button type=\"submit\" text=\"add\"/>\r\n          </form>\r\n        </>\r\n      )\r\n    }\r\n","import React from 'react'\r\nimport {PersonCard, Button, Header} from './utils'\r\n\r\nexport const Contacts = ({persons, handleDelete}) => {\r\n\r\n  const numberList = persons.map((person, i)=>{\r\n    return (\r\n      <PersonCard name={person.name} number={person.number} key={person.name} >\r\n        <Button text=\"Delete\" handleClick={() => handleDelete(person.id)}/>\r\n      </PersonCard>\r\n    )\r\n  })\r\n\r\n  return(\r\n    <>\r\n      <Header text=\"Contacts\"/>\r\n      {numberList}\r\n    </>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport const Notification = ({message}) => {\r\n\r\n    let className = 'msg'\r\n    if(message.isErr===true){\r\n        className = \"error\"\r\n    }\r\n    \r\n    if (message.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={className}>\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (name) => {\r\n    const request = axios.delete(`${baseUrl}/${name}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nexport default { getAll, create, update, deletePerson}","import React, { useState, useEffect } from 'react'\n\nimport {SearchBox} from \"./searchbox\"\nimport {Form} from \"./form\"\nimport {Contacts} from \"./Contacts\"\nimport {Notification} from \"./notification\";\n\nimport \"./App.css\";\n\nimport manageDB from \"./services\"\n\nconst App = () => {\n\n  const [persons, setPersons ] = useState([]) ;\n  const [search, setSearch] = useState('');\n  const [message, setMessage] = useState({isErr: false, message: null})\n\n\n  useEffect(() =>{\n    manageDB\n      .getAll()\n      .then(response =>{\n        setPersons(response)\n      })\n  },[])\n\nconst handleCreate = (newObject) => {\n  manageDB\n    .create(newObject)\n    .then(returnedPerson =>{\n      setPersons(persons.concat(returnedPerson))\n      setMessage({isErr:false, message: `${newObject.name} added to contact list.`}) \n      setTimeout(()=>{\n        setMessage({isErr: undefined, message: null})\n    }, 5000)\n    }).catch(err=>{\n      setMessage(({isErr:true, message: err.response.data.error}))\n      setTimeout(()=>{\n        setMessage({isErr: undefined, message: null})\n    }, 5000)\n    })\n}\n\nconst handleDelete = (id) => {\n  const findPerson = persons.find(person => person.id===id)\n  window.confirm(`Delete ${findPerson.name}?`) && (\n    manageDB\n    .deletePerson(findPerson.id)\n    .then(()=>{\n      setPersons(persons.filter(person=>person.id!==id))\n      setMessage({isErr:false, message: `${findPerson.name} deleted from contact list.`})\n      setTimeout(()=>{\n        setMessage({isErr: undefined, message: null})\n    }, 5000)\n    })\n    .catch(error => {\n      setMessage({isErr: true, message:\"Contact is already deleted\"})\n      setPersons(persons.filter(person=>person.id!==id))\n    })\n  ) \n}\n\nconst handleUpdate = (newObj) => {\n  console.log(newObj)\n  const findPerson = persons.find(person => person.id === newObj.id)\n\n  manageDB\n    .update(findPerson.id, newObj)\n    .then((returnedPerson)=>{\n      setPersons(persons.map(person=>person.id!==newObj.id ? person : returnedPerson))\n      setMessage({isErr:false, message: `${newObj.name} data updated.`})\n    })\n    .catch(error => {\n      setMessage({isErr:true,message:`${newObj.name} already deleted`})\n      setPersons(persons.filter(person=>person.id!==newObj.id))\n      setTimeout(()=>{\n        setMessage({isErr: undefined, message: null})\n    }, 5000)\n    })\n}\n\nconst personsToShow = search.length>0 ? persons.filter(person => !person.name.toUpperCase().indexOf(search.toUpperCase())) : persons\n\n  return (\n    <div>\n      <SearchBox search={search} setSearch={setSearch}/>\n      <Form persons={persons} handleCreate={handleCreate} handleUpdate={handleUpdate}/>\n      <Contacts persons={personsToShow} search={search} handleDelete={handleDelete}/>\n      <Notification message={message} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}